(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-406c1629"],{4143:function(t,e,n){var a=n("d218");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=n("499e").default;s("350ab138",a,!0,{sourceMap:!1,shadowMode:!1})},"55f0":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".transfer-head .line[data-v-dfb3620e]{height:2px;background:#00a8ff;margin:0 auto;width:100%}.transfer-head .sub-title[data-v-dfb3620e]{font-size:13px}",""])},"89de":function(t,e,n){"use strict";var a=n("cc22"),s=n.n(a);s.a},bf64:function(t,e,n){"use strict";var a=n("4143"),s=n.n(a);s.a},cc22:function(t,e,n){var a=n("55f0");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=n("499e").default;s("662a67c8",a,!0,{sourceMap:!1,shadowMode:!1})},ccb6:function(t,e,n){"use strict";var a,s,i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"transfer-head",on:{mouseup:function(e){t.holding=!1}}},[t.hide?t._e():n("section",[t.title?n("figure",{staticClass:"title",domProps:{innerHTML:t._s(t.title)}}):t._e(),n("section",{staticClass:"amount"},[n("Input",{attrs:{disabled:t.value,text:t.asTokens?t.amount:t.fiat,prefix:t.isStableCoin?t.currency:t.asTokens?t.token.symbol:"$",placeholder:"25",type:"number",big:"1"},on:{changed:function(e){return t.asTokens?t.amount=e:t.fiat=e},prefixed:function(e){!t.tokensOnly&&(t.asTokens=!t.asTokens)}}}),t.value?t._e():n("section",{staticClass:"buttons"},[n("Button",{attrs:{icon:"fas fa-minus"},nativeOn:{mousedown:function(e){return t.subOne(e)}}}),n("Button",{attrs:{icon:"fas fa-plus"},nativeOn:{mousedown:function(e){return t.addOne(e)}}})],1)],1),t.tokensOnly||t.asTokens?t._e():n("figure",{staticClass:"tokens-value"},[t._v(t._s(isNaN(t.amount)?0:t.amount||0)+" "+t._s(t.token.symbol))]),(t.isStableCoin||t.isSystemToken)&&!t.tokensOnly&&t.asTokens?n("figure",{staticClass:"tokens-value"},[t._v("$"+t._s(isNaN(t.fiat)?0:t.fiat||0))]):t._e(),n("figure",{staticClass:"line"}),t.subtitle?n("figure",{staticClass:"sub-title"},[t._v(t._s(t.subtitle))]):t._e()])])},r=[],c=n("bd86"),u=(n("f289"),n("a0b2")),l=n("1397"),h=n("4e63"),f=n.n(h),d={props:["title","subtitle","token","hide","value","info","max"],components:{SymbolBall:u["a"]},data:function(){return{fiat:null,amount:null,asTokens:!0,holding:!1,tokensOnly:!1}},computed:{isStableCoin:function(){return l["a"].isStableCoin(this.token)},isSystemToken:function(){return l["a"].isSystemToken(this.token)},currency:function(){return f.a.fiatSymbol()}},mounted:function(){this.value?(this.amount=this.value,this.fiat=parseFloat(parseFloat(this.token.fiatPrice(!1))*parseFloat(this.amount)).toFixed(2)):this.amount=this.token.amount,this.token.fiatPrice(!1)||(this.tokensOnly=!0,this.asTokens=!0)},methods:{addOne:function(){this.holdButtons(1)},subOne:function(){this.holdButtons(-1)},holdButtons:function(t){var e=this;this.holding=!0,clearInterval(s),clearTimeout(i),this.deltaBalance(t),i=setTimeout(function(){s=setInterval(function(){if(!e.holding)return clearInterval(s);e.deltaBalance(t)},50)},300)},deltaBalance:function(t){this.makeNumber(),this.asTokens?this.amount=parseFloat(this.amount)+t:this.fiat=parseFloat(this.fiat)+t,this.fiat<0&&(this.fiat=0),this.amount<0&&(this.amount=0)},makeNumber:function(){this.amount&&!isNaN(this.token.amount)||(this.amount=0),this.fiat&&!isNaN(this.fiat)||(this.fiat=0)}},watch:(a={},Object(c["a"])(a,"fiat",function(){this.asTokens||(this.max&&this.max<parseFloat(this.fiat)&&(this.fiat=this.max),this.amount=parseFloat(parseFloat(this.fiat)/this.token.fiatPrice(!1)).toFixed(this.token.decimals),this.$emit("amount",this.amount))}),Object(c["a"])(a,"amount",function(){this.asTokens&&(this.fiat=parseFloat(parseFloat(this.token.fiatPrice(!1))*parseFloat(this.amount)).toFixed(2),this.$emit("amount",this.amount))}),a)},p=d,b=(n("89de"),n("2877")),m=Object(b["a"])(p,o,r,!1,null,"dfb3620e",null);e["a"]=m.exports},cf9c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"transfer"},[t.token&&!t.success?n("section",{staticClass:"popup-content"},[n("TransferHead",{attrs:{hide:t.showingMore,token:t.token,title:"How much <span>"+t.fromToken.symbol+"</span> do you want to <span>convert</span> to <span>"+(t.convertedToken?t.convertedToken.symbol:"...")+"</span>?"},on:{amount:function(e){return t.token.amount=e}}}),t.showingMore?n("SearchBar",{staticStyle:{"margin-top":"-10px"},on:{terms:function(e){return t.terms=e}}}):t._e(),t.loadingPairs?n("section",{staticClass:"loading-pairs"},[n("i",{staticClass:"animate-spin fas fa-spinner"})]):t._e(),t.loadingPairs?t._e():n("section",{staticClass:"convert"},[n("section",{staticClass:"selector"},[n("transition-group",{staticClass:"options",class:{wrapping:t.showingMore},attrs:{name:"hide-for-select"}},[t._l(t.tokens,function(e){return n("section",{key:e.unique(),staticClass:"option",class:{selected:t.convertedToken&&e.unique()===t.convertedToken.unique()},on:{click:function(n){return t.selectToken(e)}}},[n("SymbolBall",{attrs:{token:e}}),n("figure",{staticClass:"text"},[t._v(t._s(e.symbol))])],1)}),n("section",{key:"more-tokens",staticClass:"option"},[t.showingMore?t._e():n("section",{on:{click:function(e){t.showingMore=!0}}},[n("SymbolBall",{attrs:{symbol:"fas fa-plus"}}),n("figure",{staticClass:"text"},[t._v(t._s(t.pairs.length-2)+" others")])],1)])],2)],1)]),t.showingMore||t.loadingPairs?t._e():n("section",{staticClass:"recipient"},[n("figure",{staticClass:"line"}),n("br"),t.convertedToken&&!t.availableSelfAccount?n("figure",{staticClass:"no-self"},[t._v("You do not have an account that can hold "+t._s(t.convertedToken.symbol))]):t._e(),t.convertedToken&&t.availableSelfAccount&&t.availableSelfAccount.sendable()===t.recipient?n("figure",{staticClass:"to-self"},[t._v("You are sending the converted "+t._s(t.convertedToken.symbol)+" to yourself")]):t._e(),t.convertedToken&&t.availableSelfAccount&&t.availableSelfAccount.sendable()!==t.recipient?n("figure",{staticClass:"no-self"},[t._v("You are sending the converted "+t._s(t.convertedToken.symbol)+" to someone else")]):t._e(),n("section",{staticClass:"flex"},[n("Input",{staticStyle:{"margin-bottom":"0",flex:"1"},attrs:{placeholder:"Where to send the converted tokens?",text:t.recipient},on:{changed:function(e){return t.recipient=e}}}),t.availableSelfAccount?n("Button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Send to yourself",expression:"`Send to yourself`"}],staticStyle:{"margin-left":"5px",flex:"0 0 auto"},attrs:{primary:t.availableSelfAccount.sendable()===t.recipient,disabled:t.availableSelfAccount.sendable()===t.recipient,icon:t.availableSelfAccount.sendable()===t.recipient?"fal fa-user-check":"fal fa-user"},nativeOn:{click:function(e){return t.sendToSelf(e)}}}):t._e()],1)]),!t.showingMore&&t.convertedToken?n("section",[t.loadingRate?t._e():n("section",{staticClass:"receiving"},[t._v("\n\t\t\t\tYou will get "),n("b",[t._v(t._s(t.formatNumber(t.receiving))+" "+t._s(t.convertedToken.symbol))])]),t.loadingRate?n("section",{staticClass:"receiving"},[t._v("\n\t\t\t\tPlease wait while we load conversion rates\n\t\t\t")]):t._e()]):t._e()],1):t._e(),t.success?n("section",{staticClass:"popup-content"},[t._m(0),n("figure",{staticClass:"sub-title"},[t._v("\n\t\t\tEverything looks good and your order has been sent off for processing.\n\t\t\tYou'll get a notification when your shiny tokens arrive.\n\t\t")])]):t._e(),t.success?t._e():n("section",{staticClass:"popup-buttons"},[n("Button",{attrs:{text:"Cancel"},nativeOn:{click:function(e){return function(){return t.closer(null)}()}}}),n("Button",{attrs:{loading:t.sending,primary:"1",text:"Convert",icon:"fas fa-exchange-alt"},nativeOn:{click:function(e){return t.exchange(e)}}})],1),t.success?n("section",{staticClass:"popup-buttons"},[n("Button",{attrs:{text:"Close",primary:"1"},nativeOn:{click:function(e){return function(){return t.closer(!0)}()}}})],1):t._e()])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"title"},[t._v("Conversion "),n("span",[t._v("Successful")]),t._v("!")])}],i=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),o=(n("7514"),n("55dd"),n("bd86")),r=(n("f289"),n("cee8"),n("a0b2")),c=n("28b9"),u=n.n(c),l=n("2f62"),h=n("ccb6"),f=n("4e63"),d=n.n(f),p=n("977d"),b=n.n(p),m=n("aa3c"),k=n("1863"),v=n.n(k),g=n("38d4"),y=n.n(g),T=n("3350"),x=n.n(T),w=n("4b59"),_=n("21f8"),O=n("1397"),S=n("1b0c"),C=n.n(S),P=n("4815"),j=n("20cb"),M=n.n(j);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(n,!0).forEach(function(e){Object(o["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var R={props:["popin","closer"],components:{TransferHead:h["a"],SymbolBall:r["a"]},data:function(){return{convertedToken:null,showingMore:!1,terms:"",token:null,rate:null,loadingPairs:!1,loadingRate:!1,sending:!1,rawPairs:[],pairs:[],success:!1,recipient:""}},computed:F({},Object(l["d"])(["isMobile"]),{fromToken:function(){return this.popin.data.props.token},toToken:function(){return this.popin.data.props.toToken},tokens:function(){var t=this,e=this.pairs;return e=e.map(function(t){return C.a.fromJson(t)}),e=e.filter(function(e){return e.symbol.toLowerCase().indexOf(t.terms)>-1}),e=e.sort(function(t,e){var n=O["a"].isSystemToken(e)?1:O["a"].isSystemToken(t)?-1:0,a=O["a"].isStableCoin(e)?1:O["a"].isStableCoin(t)?-1:0;return a||n}),e=e.sort(function(e,n){return t.convertedToken&&n.unique()===t.convertedToken.unique()?1:t.convertedToken&&e.unique()===t.convertedToken.unique()?-1:0}),this.showingMore||(e=e.slice(0,2)),e},receiving:function(){return this.rate&&this.convertedToken?parseFloat(this.rate.rate*this.token.amount).toFixed(this.convertedToken.decimals):0},rawPair:function(){var t=this;if(this.convertedToken)return this.rawPairs.find(function(e){return e.token.id===t.convertedToken.id})},withinMinMax:function(){return(null===this.rate.min||this.rate.min<=this.receiving)&&(null===this.rate.max||this.rate.max>=this.receiving)},availableSelfAccount:function(){if(!this.convertedToken)return null;var t=this.convertedToken.network();return t?P["a"].accounts([t])[0]:null}}),created:function(){var t=this;Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return d.a.setPrices(),t.token=t.fromToken.clone(),t.token.amount=null,e.next=5,t.getPairs();case 5:t.selectToken(t.tokens[0]);case 6:case"end":return e.stop()}},e)}))()},methods:F({sendToSelf:function(){this.recipient=this.availableSelfAccount.sendable()},selectToken:function(t){this.convertedToken=t,t&&this.availableSelfAccount?this.sendToSelf():this.recipient="",this.showingMore=!1,this.terms="",this.getRate()},getPairs:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.convertedToken=null,this.pairs=[],this.loadingPairs=!0,t.next=5,b.a.pairs(this.token);case 5:e=t.sent,n=e.base,a=e.stable,s=function(t){return t?t.map(function(t){return t.token}):[]},this.pairs=s(n).concat(s(a)),Object.keys(e).map(function(t){"base"!==t&&"stable"!==t&&(i.pairs=i.pairs.concat(s(e[t])))}),this.rawPairs=Object.keys(e).reduce(function(t,n){return t=t.concat(e[n]),t},[]),this.loadingPairs=!1,this.toToken&&this.selectToken(this.pairs.find(function(t){return t.unique()===i.toToken.unique()}));case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getRate:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingRate=!0,this.rate=null,t.next=4,b.a.rate(this.token,this.rawPair.symbol,this.rawPair.service);case 4:this.rate=t.sent,this.loadingRate=!1;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),exchange:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,i,o,r,c,l,h,f=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.sending){t.next=2;break}return t.abrupt("return");case 2:if(e=function(t){return f.sending=!1,_["a"].push(w["a"].snackbar(t))},this.convertedToken){t.next=5;break}return t.abrupt("return",e("You must select a token to convert to first"));case 5:if(!(this.token.amount<=0)){t.next=7;break}return t.abrupt("return",e("The amount to convert must be over 0 ".concat(this.token.symbol)));case 7:if(n=P["a"].accounts([this.token.network()])[0],n){t.next=10;break}return t.abrupt("return",e("There was an error getting the account that holds this ".concat(this.token.symbol,".")));case 10:if(this.recipient){t.next=12;break}return t.abrupt("return",e("You must specify an account/address that can hold ".concat(this.convertedToken.symbol,".")));case 12:if(M.a.plugin(this.convertedToken.blockchain).isValidRecipient(this.recipient)){t.next=14;break}return t.abrupt("return",_["a"].push(w["a"].snackbar("The recipient you entered isn't a valid recipient for ".concat(this.convertedToken.symbol))));case 14:if(this.withinMinMax){t.next=16;break}return t.abrupt("return",e("The minimum for this conversion is ".concat(this.rate.min," ").concat(this.convertedToken.symbol," and the max is ").concat(this.rate.max," ").concat(this.convertedToken.symbol)));case 16:return this.sending=!0,a={account:n.sendable()},s={account:this.recipient},i=this.token.amount,t.next=22,b.a.order(this.rawPair.service,this.token,this.convertedToken.symbol,i,a,s);case 22:if(o=t.sent,o){t.next=25;break}return t.abrupt("return",e("There was an issue connecting to the Scatter API"));case 25:return b.a.accepted(o.id),t.next=28,x.a[n.blockchain()]({account:n,recipient:o.account,amount:i,memo:o.memo,token:this.token,promptForSignature:!1,bypassHistory:!0}).catch(function(t){return _["a"].push(w["a"].snackbar("There was an error converting: ".concat(t))),!1});case 28:if(r=t.sent,!r||r.hasOwnProperty("error")){t.next=42;break}if(this.success=!0,y.a.hasToken(this.rawPair.token)){t.next=35;break}if(!this.rawPair.token.contract||!this.rawPair.token.contract.length){t.next=35;break}return t.next=35,y.a.addToken(this.rawPair.token,!1,!1);case 35:c=this.token.clone(),c.amount=i,l=this.convertedToken.clone(),l.amount=this.receiving,h=new v.a(n,this.recipient,c,l,o,x.a.getTransferId(r,this.token.blockchain)),this[m["DELTA_HISTORY"]](h),setTimeout(function(){b.a.watch(h),u.a.loadBalancesFor(n)},1e3);case 42:r&&r.hasOwnProperty("error")&&_["a"].push(w["a"].snackbar(r.error)),this.sending=!1;case 44:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},Object(l["b"])([m["DELTA_HISTORY"]]))},A=R,N=(n("bf64"),n("2877")),q=Object(N["a"])(A,a,s,!1,null,"52c31b53",null);e["default"]=q.exports},d218:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".no-self[data-v-52c31b53]{color:#de4136}.no-self[data-v-52c31b53],.to-self[data-v-52c31b53]{display:block;margin-bottom:5px;font-size:11px}.to-self[data-v-52c31b53]{color:#00a8ff}.recipient[data-v-52c31b53]{margin-top:20px;text-align:left}.recipient label[data-v-52c31b53]{margin-bottom:5px;display:block}.convert[data-v-52c31b53]{margin-top:20px;text-align:left}.convert label[data-v-52c31b53]{margin-bottom:5px;display:block}.loading-pairs[data-v-52c31b53]{height:67px;font-size:36px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#999}",""])}}]);