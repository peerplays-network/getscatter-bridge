(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56f9b168"],{"0c7b":function(e,t,n){"use strict";n.d(t,"a",function(){return y});n("7514"),n("96cf");var r=n("3b8d"),a=n("d225"),c=n("b0b4"),u=n("20cb"),s=n.n(u),i=n("17e3"),o=n("21f8"),l=n("4b59"),p=n("07a4"),f=n("6348"),b=n("1a6b"),h=(n("4815"),n("6d42")),d=n.n(h),k=n("e65a"),m=n.n(k),w=n("28b9"),v=n.n(w),y=function(){function e(){Object(a["a"])(this,e)}return Object(c["a"])(e,null,[{key:"createAccount",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n,r){var a,c,u,p,b,h,k=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=k.length>2&&void 0!==k[2]?k[2]:null,n){t.next=3;break}return t.abrupt("return",o["a"].push(l["a"].snackbar("There was an error loading your wallet (no keypair)")));case 3:if(!n.blockchains[0]!==i["Blockchains"].EOSIO){t.next=5;break}return t.abrupt("return",o["a"].push(l["a"].snackbar("There was an error loading your wallet (wrong enabled blockchain on keypair)")));case 5:if(s.a.plugin(i["Blockchains"].EOSIO).isEndorsedNetwork(r)){t.next=7;break}return t.abrupt("return",o["a"].push(l["a"].snackbar("Can only create an account on EOS Mainnet")));case 7:return c=r.systemToken(),t.next=10,f["a"].getRandomName();case 10:if(u=t.sent,p=n.publicKeys.find(function(e){return e.blockchain===i["Blockchains"].EOSIO}).key,p){t.next=14;break}return t.abrupt("return",o["a"].push(l["a"].snackbar("There was an error loading your wallet (no public key)")));case 14:return t.next=16,e.createFromCard(c,a,n,u,p);case 16:if(b=t.sent,!b){t.next=22;break}return h=d.a.fromJson({keypairUnique:n.unique(),networkUnique:r.unique(),publicKey:p,name:u,authority:"active"}),t.next=21,m.a.addAccount(h);case 21:v.a.loadBalancesFor(h);case 22:return t.abrupt("return",b);case 23:case"end":return t.stop()}},t)}));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"createFromCard",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,a,c,u){var s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=p["a"].state.scatter.keychain.identities[0].personal.email,e.next=3,o["a"].push(l["a"].moonpay(t,n,"makeaccounts","".concat(u,",").concat(c),s,c));case 3:return e.sent,i=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:0,!(t>120)){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,b["a"].checkStatus(c);case 5:if(n=e.sent,n&&n.length){e.next=10;break}o["a"].push(l["a"].snackbar("We couldn't verify the purchase automatically, please check your email.")),e.next=26;break;case 10:if(n=n[0],"completed"!==n.status){e.next=18;break}return e.next=14,b["a"].removeHook(n.unique);case 14:return o["a"].push(l["a"].snackbar("Funds loaded!")),e.abrupt("return",!0);case 18:if("failed"!==n.status){e.next=25;break}return e.next=21,b["a"].removeHook(n.unique);case 21:return o["a"].push(l["a"].snackbar("There was an issue loading your funds.")),e.abrupt("return",!1);case 25:return e.abrupt("return",new Promise(function(e){return setTimeout(Object(r["a"])(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,i(t++);case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 5:case"end":return n.stop()}},n)})),500)}));case 26:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",i());case 6:case"end":return e.stop()}},e)}));function t(t,n,r,a,c){return e.apply(this,arguments)}return t}()}]),e}()},4920:function(e,t,n){var r=n("6f4f");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("499e").default;a("ce8f366a",r,!0,{sourceMap:!1,shadowMode:!1})},6348:function(e,t,n){"use strict";n.d(t,"a",function(){return l});n("a481"),n("96cf");var r=n("3b8d"),a=n("d225"),c=n("b0b4"),u=n("20cb"),s=n.n(u),i=n("483b"),o=n.n(i),l=function(){function e(){Object(a["a"])(this,e)}return Object(c["a"])(e,null,[{key:"getRandomName",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var n,r,a,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>0&&void 0!==c[0]?c[0]:null,n||(n=s.a.plugin("eos").getEndorsedNetwork()),r="";while(!s.a.plugin("eos").isValidRecipient(r))r=o.a.text(256).replace(/[0,6-9]/g,"").slice(0,12).toLowerCase();return t.next=6,fetch("".concat(n.fullhost(),"/v1/chain/get_account"),{method:"POST",body:JSON.stringify({account_name:r})}).then(function(e){return e.json()}).then(function(e){return!e.hasOwnProperty("code")}).catch(function(){return!1});case 6:if(a=t.sent,!a){t.next=9;break}return t.abrupt("return",e.getRandomName(n));case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}},t)}));function n(){return t.apply(this,arguments)}return n}()}]),e}()},"6f4f":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".create-eos-account[data-v-7bf7f966]{max-width:400px;width:100%}.create-eos-account .sub-title[data-v-7bf7f966]{margin-top:-20px;font-size:14px}",""])},df5c:function(e,t,n){"use strict";var r=n("4920"),a=n.n(r);a.a},f8fe:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"create-eos-account transfer"},[e.state===e.STATES.BUY?n("section",{staticClass:"popup-content"},[e._m(0),n("figure",{staticClass:"sub-title"},[e._v("\n\t\t\t"+e._s(e.network.name)+" accounts cost a small fee to create. You can use a credit card to make\n\t\t\tthis initial purchase.\n\t\t")]),n("br"),n("br"),n("figure",{staticClass:"line"}),n("br"),n("br"),n("span",[e._v("\n\t\t\tCreation will cost "),n("b",[e._v(e._s(e.currency)+e._s(.5*e.token.fiatPrice(!1)))]),e._v(", however our partners have a "+e._s(e.currency)+"20 minumum for credit card purchases, the remainder will be forwarded to your new account.\n\t\t")])]):e._e(),e.state===e.STATES.DONE?n("section",{staticClass:"popup-content"},[e._m(1),n("figure",{staticClass:"sub-title"},[e._v("\n\t\t\tYou now have an account on the "+e._s(e.network.name)+".\n\t\t")])]):e._e(),e.state===e.STATES.BUY?n("section",{staticClass:"popup-buttons"},[n("Button",{attrs:{disabled:e.creating,text:"Cancel"},nativeOn:{click:function(t){return function(){return e.closer(null)}()}}}),n("Button",{attrs:{loading:e.creating,primary:"1",icon:"fas fa-credit-card",text:"Pay with Card"},nativeOn:{click:function(t){return e.buyAccount(t)}}})],1):e._e(),e.state===e.STATES.DONE?n("section",{staticClass:"popup-buttons"},[n("Button",{attrs:{primary:"1",text:"Done"},nativeOn:{click:function(t){return function(){return e.closer(null)}()}}})],1):e._e()])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("figure",{staticClass:"title"},[e._v("Creating "),n("span",[e._v("Account")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("figure",{staticClass:"title"},[e._v("Creation "),n("span",[e._v("Success!")])])}],c=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("96cf"),n("3b8d")),u=n("bd86"),s=(n("4b59"),n("21f8"),n("2f62")),i=n("1f17"),o=n.n(i),l=n("3b57"),p=n.n(l),f=(n("6348"),n("17e3")),b=n("0c7b"),h=n("4e63"),d=n.n(h);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach(function(t){Object(u["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w={BUY:"buy",DONE:"done"},v={props:["popin","closer"],data:function(){return{STATES:w,state:w.BUY,creating:!1,price:0,currency:d.a.fiatSymbol()}},computed:m({},Object(s["d"])(["scatter"]),{network:function(){return this.popin.data.props.network},token:function(){return this.network.systemToken()}}),mounted:function(){},methods:{buyAccount:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.scatter.keychain.keypairs.find(function(e){return e.blockchains[0]===f["Blockchains"].EOSIO}),t){e.next=11;break}return t=o.a.placeholder(),t.blockchains=[this.network.blockchain],e.next=6,p.a.generateKeyPair(t);case 6:return e.next=8,p.a.makePublicKeys(t);case 8:return t.setName(),e.next=11,p.a.saveKeyPair(t);case 11:return this.creating=!0,e.next=14,b["a"].createAccount(t,this.network,20);case 14:n=e.sent,this.creating=!1,n&&(this.state=w.DONE);case 17:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},y=v,g=(n("df5c"),n("2877")),O=Object(g["a"])(y,r,a,!1,null,"7bf7f966",null);t["default"]=O.exports}}]);