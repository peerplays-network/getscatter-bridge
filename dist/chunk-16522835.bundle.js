(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16522835"],{"1ca3c":function(t,a,e){"use strict";var n=e("2c41"),s=e.n(n);s.a},"2c41":function(t,a,e){var n=e("bf13");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=e("499e").default;s("38dfe83b",n,!0,{sourceMap:!1,shadowMode:!1})},bf13:function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,'.view-app-ratings[data-v-255d41d4]{max-width:400px;width:calc(100% - 80px);margin:0 auto}.view-app-ratings .app-type[data-v-255d41d4]{margin-top:-20px;font-size:13px}.view-app-ratings .sub-title[data-v-255d41d4]{margin-top:-20px;font-size:14px}.logos[data-v-255d41d4]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;width:100%;margin-bottom:20px}.logos[data-v-255d41d4]:after{content:"";position:absolute;display:block;top:50%;left:-40px;right:-40px;height:1px;background:rgba(0,168,255,.08);z-index:-1}.logo[data-v-255d41d4]{background:#fff;position:relative;width:100px;height:100px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:20px;font-weight:700}.logo img[data-v-255d41d4]{width:calc(100% - 10px);max-height:calc(100% - 10px);-o-object-fit:contain;object-fit:contain;overflow:hidden;border-radius:16px}.ratings[data-v-255d41d4]{margin-top:50px}.ratings.less-margin[data-v-255d41d4]{margin-top:20px}.ratings .stars .star[data-v-255d41d4]{color:#999;font-size:28px;padding:0 4px;cursor:pointer}.ratings .stars .star.active[data-v-255d41d4]{color:#00a8ff}.ratings .stars.active .star.active[data-v-255d41d4]{color:#de4136}.ratings span[data-v-255d41d4]{margin:0 auto;display:table;padding:15px 35px 0;font-size:11px}.ratings span.notice[data-v-255d41d4]{color:#00a8ff}.ratings span.clickable[data-v-255d41d4]{text-decoration:underline}.blue-steel .ratings .stars.active .star.active[data-v-255d41d4]{color:#ff0}',""])},ea72:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"view-app-ratings"},[e("section",{staticClass:"popup-content"},[e("section",{class:{logos:!!t.app.img}},[e("figure",{staticClass:"logo"},[t.app.img?e("img",{attrs:{src:t.app.img}}):t._e()])]),e("figure",{staticClass:"title"},[e("b",[t._v(t._s(t.app.name))])]),t.state===t.STATES.VIEW?e("section",[e("figure",{staticClass:"sub-title"},[t._v(t._s(t.app.description))]),t.ridlIsAvailable?e("section",{staticClass:"ratings"},[e("section",{staticClass:"stars",class:{active:null!==t.star},on:{mouseout:function(a){t.star=null}}},t._l(t.stars,function(a){return e("figure",{staticClass:"star fas fa-star",class:{active:null!==t.star?t.star>=a:a<=t.rating},on:{click:function(e){return t.clickStar(a)},mouseover:function(e){return t.hoverStar(a)}}})}),0),t.overall?t._e():e("span",{staticClass:"notice"},[t._v("This app doesn't have any ratings yet!")]),t.usingIdentity?e("span",[t._v("Help keep Scatter users safe by adding your own rating to "),e("b",[t._v(t._s(t.app.name))]),t._v(", just tap a star to start.")]):t._e(),t.ridlIsAvailable&&!t.usingIdentity?e("span",{staticClass:"clickable",on:{click:t.goToIdentity}},[e("u",[t._v("You don't have a registered digital identity yet.")])]):t._e()]):t._e(),null===t.ridlIsAvailable?e("section",{staticClass:"ratings"},[t._m(0)]):t._e()]):t._e(),t.state===t.STATES.RATE?e("section",[e("section",{staticClass:"ratings less-margin"},[e("section",{staticClass:"stars active"},t._l(t.stars,function(a){return e("figure",{staticClass:"star fas fa-star",class:{active:t.star>=a}})}),0),e("br"),e("Input",{staticStyle:{"margin-bottom":"0"},attrs:{textarea:"1",placeholder:"Do you want to let the world know why you think "+t.app.name+" deserves a "+t.star+" star rating?"},on:{changed:function(a){return t.details=a}}})],1)]):t._e(),t.state===t.STATES.RATED?e("section",[e("figure",{staticClass:"sub-title"},[t._v("Your rating has been sent to the network!")]),e("section",{staticClass:"ratings"},[e("section",{staticClass:"stars active"},t._l(t.stars,function(a){return e("figure",{staticClass:"star fas fa-star",class:{active:t.star>=a}})}),0),e("span",[t._v("You have given "+t._s(t.app.name)+" a "+t._s(t.star)+" star rating. Thanks for your help!")])])]):t._e()]),t.state===t.STATES.VIEW?e("section",{staticClass:"popup-buttons"},[e("Button",{attrs:{text:"Close"},nativeOn:{click:function(a){return t.closer(null)}}}),e("Button",{attrs:{primary:"1",text:"Open App",icon:"fas fa-rocket"},nativeOn:{click:function(a){return t.open(a)}}})],1):t._e(),t.state===t.STATES.RATE?e("section",{staticClass:"popup-buttons"},[e("Button",{attrs:{disabled:t.submittingRating,text:"Back"},nativeOn:{click:function(a){return t.clearRating(a)}}}),e("Button",{attrs:{loading:t.submittingRating,primary:"1",text:"Submit Rating",icon:"fas fa-external-link-square"},nativeOn:{click:function(a){return t.submitRating(a)}}})],1):t._e(),t.state===t.STATES.RATED?e("section",{staticClass:"popup-buttons"},[e("Button",{attrs:{primary:"1",text:"Close"},nativeOn:{click:function(a){return t.closer(null)}}})],1):t._e()])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{},[t._v("Loading ratings "),e("i",{staticClass:"fa fa-spinner animate-spin"})])}],i=(e("8e6e"),e("ac6a"),e("456d"),e("7f7f"),e("96cf"),e("3b8d")),r=(e("6b54"),e("7514"),e("bd86")),o=e("2f62"),c=e("4de1"),l=e("21f8"),u=e("4b59");function p(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,n)}return e}function d(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?p(e,!0).forEach(function(a){Object(r["a"])(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var f={VIEW:"view",RATE:"rate",RATED:"rated"},g={props:["popin","closer"],data:function(){return{state:f.VIEW,STATES:f,stars:[1,2,3,4,5],star:null,rating:0,submittingRating:!1,reputation:null,details:"",ridlIsAvailable:null}},computed:d({},Object(o["d"])(["scatter"]),{app:function(){return this.popin.data.props.app},overall:function(){return{value:20}},identity:function(){return this.scatter.keychain.identities[0]},usingIdentity:function(){return this.identity.ridl.toString().indexOf("::")>-1}}),mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.featureFlags.ridl){t.next=6;break}return t.next=3,c["a"].isAvailable();case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=!1;case 7:if(this.ridlIsAvailable=t.t0,!this.ridlIsAvailable){t.next=13;break}return t.next=11,c["a"].getAppReputation(this.app);case 11:this.reputation=t.sent,this.reputation&&(this.overall?this.rating=this.overall.value/5:this.rating=null,this.$forceUpdate());case 13:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),methods:{goToIdentity:function(){this.$router.push({name:this.RouteNames.Identity,query:{type:"digital"}}),this.closer(!0)},open:function(){this.openInBrowser(this.app.url),this.closer(!0)},hoverStar:function(t){this.star=t},clickStar:function(t){this.usingIdentity&&(this.star=t,this.state=f.RATE)},clearRating:function(){this.star=null,this.state=f.VIEW},submitRating:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var a,e,n,s,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=.2,e=0,t.t0=this.star,t.next=1===t.t0?5:2===t.t0?7:3===t.t0?9:4===t.t0?11:5===t.t0?13:15;break;case 5:return a=1,t.abrupt("break",15);case 7:return a=.5,t.abrupt("break",15);case 9:return a=.2,t.abrupt("break",15);case 11:return a=.5,t.abrupt("break",15);case 13:return a=1,t.abrupt("break",15);case 15:a="".concat(parseFloat(a).toFixed(4)," RIDL"),t.t1=this.star,t.next=1===t.t1?19:2===t.t1?19:3===t.t1?21:4===t.t1?21:5===t.t1?21:23;break;case 19:return e=-1,t.abrupt("break",23);case 21:return e=1,t.abrupt("break",23);case 23:return n="app::".concat(this.app.applink),s=[{type:"overall",value:e}],this.submittingRating=!0,t.next=28,c["a"].findIdentity(this.identity.name);case 28:if(i=t.sent,i){t.next=32;break}return console.error(i),t.abrupt("return",l["a"].push(u["a"].snackbar("Could not find identity!")));case 32:return t.next=34,c["a"].repute(i.id,n,s,a,i.chain,this.details,this.identity.publicKey);case 34:r=t.sent,r&&(this.state=f.RATED),this.submittingRating=!1;case 37:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}()}},b=g,v=(e("1ca3c"),e("2877")),h=Object(v["a"])(b,n,s,!1,null,"255d41d4",null);a["default"]=h.exports}}]);