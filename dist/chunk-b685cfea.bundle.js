(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b685cfea"],{"4d65f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"transfer"},[t.token?n("section",{staticClass:"popup-content"},[n("TransferHead",{attrs:{token:t.token,title:"How much <span>"+t.fromToken.symbol+"</span> do you <br>want to <span>send</span>?"},on:{amount:function(e){return t.token.amount=e}}}),t.hasMemo||t.state===t.STATES.TEXT?n("section",[n("section",[n("transition",{attrs:{name:"hide-field"}},[t.state===t.STATES.TEXT?n("section",[n("RecipientField",{attrs:{recipient:t.recipient,forced:t.forcedRecipient,token:t.token},on:{recipient:function(e){return t.recipient=e}}})],1):t._e()]),t.hasMemo?n("figure",{staticClass:"tokens-text smaller",staticStyle:{"margin-top":"30px"}},[t._v("Want to add a memo?")]):t._e(),t.hasMemo?n("Input",{staticStyle:{"margin-top":"20px","margin-bottom":"0"},attrs:{text:t.memo},on:{changed:function(e){return t.memo=e}}}):t._e()],1)]):t._e()],1):t._e(),n("section",{staticClass:"popup-buttons"},[n("Button",{attrs:{text:"Cancel"},nativeOn:{click:function(e){return function(){return t.closer(null)}()}}}),n("Button",{attrs:{loading:t.sending,primary:"1",text:"Send",icon:"fal fa-paper-plane"},nativeOn:{click:function(e){return t.send(e)}}})],1)])},a=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("96cf"),n("3b8d")),s=(n("7f7f"),n("bd86")),r=(n("f289"),n("cee8"),n("a0b2")),c=n("28b9"),u=n.n(c),l=n("ccb6"),f=n("4b59"),h=n("2f62"),p=n("21f8"),d=n("3350"),m=n.n(d),b=n("20cb"),k=n.n(b),g=n("17e3"),O=n("e3c0"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticStyle:{"padding-top":"20px",display:"flex","align-items":"flex-end"}},[n("Input",{staticStyle:{"margin-bottom":"0",flex:"1"},attrs:{disabled:t.forced,placeholder:"Account / Address",text:t.recipient},on:{changed:function(e){return t.recipientLocal=e}}}),t.featureFlags.premium&&!t.recipientFriend?n("Button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Add Friend",expression:"`Add Friend`"}],staticStyle:{"margin-left":"5px"},attrs:{primary:t.recipient.length,icon:"fal fa-user"},nativeOn:{click:function(e){return t.addFriend(e)}}}):t._e(),t.featureFlags.premium&&!t.recipientFriend?n("Button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Select Friend",expression:"`Select Friend`"}],staticStyle:{"margin-left":"5px"},attrs:{primary:!t.recipient.length,icon:"fal fa-user-friends"},nativeOn:{click:function(e){return t.selectFriend(e)}}}):t._e(),t.featureFlags.premium&&t.recipientFriend?n("Button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Sending to a friend",expression:"`Sending to a friend`"}],staticStyle:{"margin-left":"5px"},attrs:{text:t.recipientFriend.name.substr(0,15)+(t.recipientFriend.name.length>15?"...":"")}}):t._e()],1)},y=[];function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(n,!0).forEach(function(e){Object(s["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var w,F={props:["token","forced","recipient"],data:function(){return{recipientLocal:""}},computed:x({},Object(h["d"])(["scatter"]),{recipientFriend:function(){var t=this;return!!this.hasPremium&&(!!this.token&&this.scatter.friends.find(function(e){return e.accounts.some(function(e){return e.recipient===t.recipient&&e.blockchain===t.token.blockchain&&e.chainId===t.token.chainId})}))}}),methods:{addFriend:function(){return this.hasPremium?this.recipient.length?void p["a"].push(f["a"].friendsList(function(t){},null,{recipient:this.recipient,blockchain:this.token.blockchain,chainId:this.token.chainId})):p["a"].push(f["a"].snackbar("You must enter an account name or address")):p["a"].push(f["a"].goPremium(function(){}))},selectFriend:function(){var t=this;if(!this.hasPremium)return p["a"].push(f["a"].goPremium(function(){}));p["a"].push(f["a"].friendsList(function(e){e&&(t.recipientLocal=e.accounts.find(function(e){return e.blockchain===t.token.blockchain&&e.chainId===t.token.chainId}).recipient,console.log("friend",e))},this.token))}},watch:Object(s["a"])({},"recipientLocal",function(){this.$emit("recipient",this.recipientLocal)})},S=F,j=n("2877"),C=Object(j["a"])(S,v,y,!1,null,null,null),P=C.exports;function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(n,!0).forEach(function(e){Object(s["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var B={TEXT:"text",CONTACT:"contact"},N={props:["popin","closer"],components:{TransferHead:l["a"],SymbolBall:r["a"],RecipientField:P},data:function(){return{STATES:B,state:B.TEXT,token:null,fiat:null,recipient:"",memo:"",selected:null,terms:"",asTokens:!1,contact:!1,forcedRecipient:!1,sending:!1}},mounted:function(){this.popin.data.props.recipient&&(this.recipient=this.popin.data.props.recipient,this.forcedRecipient=!0),this.token=this.fromToken.clone(),this.token.amount=null},computed:I({},Object(h["d"])(["scatter","hasPremium"]),{fromToken:function(){return this.popin.data.props.token},contacts:function(){var t=this;return this.scatter.contacts.filter(function(e){return e.name.toLowerCase().indexOf(t.terms)>-1||e.recipient.toLowerCase().indexOf(t.terms)>-1||e.note.toLowerCase().indexOf(t.terms)>-1}).filter(function(e){return e.blockchain===t.token.blockchain&&e.chainId===t.token.chainId})},account:function(){return this.popin.data.props.account},hasMemo:function(){return this.token.blockchain===g["Blockchains"].EOSIO}}),methods:{buyWithCard:function(){p["a"].push(f["a"].buyTokens(this.token,this.token.amount))},scanQR:function(){var t=this;p["a"].push(f["a"].scanQR(function(e){e&&(t.recipient=e)},!0))},send:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n,i,a,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.token.network().systemToken().uniqueWithChain(!1)===this.token.uniqueWithChain(!1),!(e&&parseFloat(this.token.totalBalance().amount)<parseFloat(this.token.amount))){t.next=4;break}if(!this.featureFlags.buy){t.next=4;break}return t.abrupt("return",this.buyWithCard());case 4:if(n=function(){return o.sending=!1},!this.sending){t.next=7;break}return t.abrupt("return");case 7:if(i=this.contact?this.contact.recipient:this.recipient,k.a.plugin(this.fromToken.blockchain).isValidRecipient(i)){t.next=10;break}return t.abrupt("return",p["a"].push(f["a"].snackbar("The recipient you entered isn't a valid recipient for ".concat(this.fromToken.symbol))));case 10:if(!(this.token.amount<=0)){t.next=12;break}return t.abrupt("return",p["a"].push(f["a"].snackbar("You must specify an amount to send")));case 12:return t.next=14,O["a"].verifyPIN();case 14:if(t.sent){t.next=16;break}return t.abrupt("return",n());case 16:return this.sending=!0,t.next=19,m.a[this.account.blockchain()]({account:this.account,recipient:i,amount:this.token.amount,memo:this.memo,token:this.token,promptForSignature:!1}).catch(function(t){return p["a"].push(f["a"].snackbar("There was an issue sending: ".concat(t))),!1});case 19:a=t.sent,n(),a&&(a.hasOwnProperty("error")?p["a"].push(f["a"].snackbar(a.error)):a?(p["a"].push(f["a"].transactionSuccess(this.account.blockchain(),m.a.getTransferId(a,this.account.blockchain()))),this.closer(a),setTimeout(function(){u.a.loadBalancesFor(o.account)},500)):p["a"].push(f["a"].snackbar("An error occurred while trying to transfer these tokens.")));case 22:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},watch:(w={},Object(s["a"])(w,"state",function(){this.state!==B.CONTACT&&(this.contact=!1)}),Object(s["a"])(w,"recipient",function(){var t=this;this.recipient=this.recipient.trim();var e=this.contacts.find(function(e){return e.blockchain===t.token.blockchain&&e.chainId===t.token.chainId&&e.recipient===t.recipient});e&&(this.contact=e,this.state=B.CONTACT)}),w)},E=N,A=(n("ac57"),Object(j["a"])(E,i,a,!1,null,"06f9068e",null));e["default"]=A.exports},"55f0":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".transfer-head .line[data-v-dfb3620e]{height:2px;background:#00a8ff;margin:0 auto;width:100%}.transfer-head .sub-title[data-v-dfb3620e]{font-size:13px}",""])},"89de":function(t,e,n){"use strict";var i=n("cc22"),a=n.n(i);a.a},"915b":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".transfer .selector .options[data-v-06f9068e]{-ms-flex-pack:distribute;justify-content:space-around}",""])},ac57:function(t,e,n){"use strict";var i=n("d2cc"),a=n.n(i);a.a},cc22:function(t,e,n){var i=n("55f0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("499e").default;a("662a67c8",i,!0,{sourceMap:!1,shadowMode:!1})},ccb6:function(t,e,n){"use strict";var i,a,o,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"transfer-head",on:{mouseup:function(e){t.holding=!1}}},[t.hide?t._e():n("section",[t.title?n("figure",{staticClass:"title",domProps:{innerHTML:t._s(t.title)}}):t._e(),n("section",{staticClass:"amount"},[n("Input",{attrs:{disabled:t.value,text:t.asTokens?t.amount:t.fiat,prefix:t.isStableCoin?t.currency:t.asTokens?t.token.symbol:"$",placeholder:"25",type:"number",big:"1"},on:{changed:function(e){return t.asTokens?t.amount=e:t.fiat=e},prefixed:function(e){!t.tokensOnly&&(t.asTokens=!t.asTokens)}}}),t.value?t._e():n("section",{staticClass:"buttons"},[n("Button",{attrs:{icon:"fas fa-minus"},nativeOn:{mousedown:function(e){return t.subOne(e)}}}),n("Button",{attrs:{icon:"fas fa-plus"},nativeOn:{mousedown:function(e){return t.addOne(e)}}})],1)],1),t.tokensOnly||t.asTokens?t._e():n("figure",{staticClass:"tokens-value"},[t._v(t._s(isNaN(t.amount)?0:t.amount||0)+" "+t._s(t.token.symbol))]),(t.isStableCoin||t.isSystemToken)&&!t.tokensOnly&&t.asTokens?n("figure",{staticClass:"tokens-value"},[t._v("$"+t._s(isNaN(t.fiat)?0:t.fiat||0))]):t._e(),n("figure",{staticClass:"line"}),t.subtitle?n("figure",{staticClass:"sub-title"},[t._v(t._s(t.subtitle))]):t._e()])])},r=[],c=n("bd86"),u=(n("f289"),n("a0b2")),l=n("1397"),f=n("4e63"),h=n.n(f),p={props:["title","subtitle","token","hide","value","info","max"],components:{SymbolBall:u["a"]},data:function(){return{fiat:null,amount:null,asTokens:!0,holding:!1,tokensOnly:!1}},computed:{isStableCoin:function(){return l["a"].isStableCoin(this.token)},isSystemToken:function(){return l["a"].isSystemToken(this.token)},currency:function(){return h.a.fiatSymbol()}},mounted:function(){this.value?(this.amount=this.value,this.fiat=parseFloat(parseFloat(this.token.fiatPrice(!1))*parseFloat(this.amount)).toFixed(2)):this.amount=this.token.amount,this.token.fiatPrice(!1)||(this.tokensOnly=!0,this.asTokens=!0)},methods:{addOne:function(){this.holdButtons(1)},subOne:function(){this.holdButtons(-1)},holdButtons:function(t){var e=this;this.holding=!0,clearInterval(a),clearTimeout(o),this.deltaBalance(t),o=setTimeout(function(){a=setInterval(function(){if(!e.holding)return clearInterval(a);e.deltaBalance(t)},50)},300)},deltaBalance:function(t){this.makeNumber(),this.asTokens?this.amount=parseFloat(this.amount)+t:this.fiat=parseFloat(this.fiat)+t,this.fiat<0&&(this.fiat=0),this.amount<0&&(this.amount=0)},makeNumber:function(){this.amount&&!isNaN(this.token.amount)||(this.amount=0),this.fiat&&!isNaN(this.fiat)||(this.fiat=0)}},watch:(i={},Object(c["a"])(i,"fiat",function(){this.asTokens||(this.max&&this.max<parseFloat(this.fiat)&&(this.fiat=this.max),this.amount=parseFloat(parseFloat(this.fiat)/this.token.fiatPrice(!1)).toFixed(this.token.decimals),this.$emit("amount",this.amount))}),Object(c["a"])(i,"amount",function(){this.asTokens&&(this.fiat=parseFloat(parseFloat(this.token.fiatPrice(!1))*parseFloat(this.amount)).toFixed(2),this.$emit("amount",this.amount))}),i)},d=p,m=(n("89de"),n("2877")),b=Object(m["a"])(d,s,r,!1,null,"dfb3620e",null);e["a"]=b.exports},d2cc:function(t,e,n){var i=n("915b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("499e").default;a("64ab66c8",i,!0,{sourceMap:!1,shadowMode:!1})}}]);